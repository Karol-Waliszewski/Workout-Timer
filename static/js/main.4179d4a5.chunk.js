(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{109:function(e,t,n){},111:function(e,t,n){},119:function(e,t,n){},121:function(e,t,n){},144:function(e,t,n){n(143),e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(35),i=n.n(a),s=n(146),c=n(23),u=n(145),l=n(2),m=n(10),f=n(12),p=n.n(f);function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,v(t).apply(this,arguments))}var n,o,a;return n=t,(o=[{key:"render",value:function(){var e=this,t=this.props.workout,n=0,o=!0,a=!1,i=void 0;try{for(var s,c=t.exercises[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){n+=s.value.time}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return r.a.createElement("li",{className:this.props.active?"workout active":"workout"},r.a.createElement("div",{className:"workout__more"},r.a.createElement(m.a,{className:"workout__button--more",to:"/creator/"+t.id},r.a.createElement(l.a,{icon:"edit"})),r.a.createElement("button",{onClick:function(){return e.props.delete(t.id)},className:"workout__button--more"},r.a.createElement(l.a,{icon:"trash-alt"}))),r.a.createElement("div",null,r.a.createElement("h2",{className:"workout__title"},t.name),r.a.createElement("div",{className:"workout__time"},r.a.createElement(l.a,{icon:["far","clock"],fixedWidth:!0}),r.a.createElement("span",null,parseInt(n/60),":",n%60<10?"0"+n%60:n%60))),r.a.createElement(m.a,{to:"timer/"+t.id,className:"workout__button"},r.a.createElement(l.a,{icon:"play",size:"sm"})))}}])&&y(n.prototype,o),a&&y(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");h(e.prototype,t&&t.prototype),t&&h(e,t)}(t,e),t}(o.Component);n(121),n(119);function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e){return(g=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}p.a.setAppElement("#root");var S=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(o=g(t).call(this))||"object"!==k(o)&&"function"!==typeof o?x(n):o).state={editMode:!1,isModalOpen:!1,finishedWorkouts:0},e.modalOpenedBy=null,e.toggleEdit=e.toggleEdit.bind(x(x(e))),e.closeModal=e.closeModal.bind(x(x(e))),e.confirmDelete=e.confirmDelete.bind(x(x(e))),e}var n,o,a;return n=t,(o=[{key:"toggleEdit",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"confirmDelete",value:function(){this.closeModal(),this.props.deleteWorkout(this.modalOpenedBy),this.modalOpenedBy=null}},{key:"render",value:function(){var e,t=this,n=this.props,o=this.state;if("workouts"in n)var a=n.workouts.map(function(e,n){return r.a.createElement(E,{workout:e,key:e.id,active:t.state.editMode,delete:function(){t.openModal(),t.modalOpenedBy=e.id}})});var i=(new Date).getHours();return e=5<i&&i<12?r.a.createElement("h1",{className:"header__heading"},"Good",r.a.createElement("br",null),"Morning"):12<=i&&i<18?r.a.createElement("h1",{className:"header__heading"},"Good",r.a.createElement("br",null),"Afternoon"):18<=i&&i<22?r.a.createElement("h1",{className:"header__heading"},"Good",r.a.createElement("br",null),"Evening"):r.a.createElement("h1",{className:"header__heading"},"Good",r.a.createElement("br",null),"Night"),r.a.createElement("div",{className:"home"},r.a.createElement("header",{className:"header"},e,r.a.createElement("p",{className:"header__stats"},"Finished Workouts: ",o.finishedWorkouts),r.a.createElement("div",{className:"header__icon"},r.a.createElement(l.a,{icon:"stopwatch",size:"9x"}))),r.a.createElement("main",{className:"home__container"},r.a.createElement("ul",null,a&&a)),r.a.createElement("footer",{className:"actionButtons"},r.a.createElement("button",{onClick:this.toggleEdit,className:"actionButtons__button"},r.a.createElement(l.a,{icon:"bars",size:"xs",fixedWidth:!0})),r.a.createElement(m.a,{to:"/creator",className:"actionButtons__button"},r.a.createElement(l.a,{icon:"plus",size:"xs",fixedWidth:!0}))),r.a.createElement(p.a,{className:"modal--home",isOpen:o.isModalOpen,closeTimeoutMS:300},r.a.createElement("h2",{className:"modal__heading"},"Do you want to delete this workout?"),r.a.createElement("footer",{className:"modal__footer"},r.a.createElement("button",{onClick:this.confirmDelete,className:"modal__button--accept"},"Yes"),r.a.createElement("button",{onClick:this.closeModal,className:"modal__button--decline"},"No"))))}}])&&w(n.prototype,o),a&&w(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");_(e.prototype,t&&t.prototype),t&&_(e,t)}(t,e),t}(o.Component),N=n(66),W=n.n(N),O=n(65),j=n.n(O),T=n(64),C=n.n(T);function M(e){return(M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t){return!t||"object"!==M(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,B(t).call(this,e))).state={startTime:n.props.time||5,time:n.props.time||5,clock:null},n.ms=0,n}var n,o,a;return n=t,(o=[{key:"componentDidMount",value:function(){this.progressBar=new C.a.Circle(document.getElementById("progress"),{strokeWidth:3,color:"#FFFFFF",trailColor:"#FFFFFF",trailWidth:1,svgStyle:{width:"100%",display:"block"}})}},{key:"componentWillReceiveProps",value:function(e){this.state.startTime!=e.time&&this.setState({startTime:e.time||5,time:e.time||5})}},{key:"countDown",value:function(){var e=this.state;this.ms++;var t=this.ms;t%250==0&&0!=t&&e.time>0&&this.setState({time:e.time-1}),0==e.time&&(this.pause(),this.props.onFinish())}},{key:"start",value:function(){clearInterval(this.state.clock),this.state.clock=setInterval(this.countDown.bind(this),4),this.progressBar.animate(1,{duration:1e3*this.state.startTime*(1-this.progressBar.value())})}},{key:"pause",value:function(){clearInterval(this.state.clock),this.state.clock=null,this.progressBar.stop()}},{key:"reset",value:function(){this.setState({time:this.state.startTime}),this.ms=0,this.progressBar.set(0)}},{key:"render",value:function(){var e=this.state;this.props;return r.a.createElement("div",{className:"timer",id:"progress"},r.a.createElement("p",{className:"timer__time"},parseInt(e.time/60),":",e.time%60<10?"0"+e.time%60:e.time%60))}}])&&D(n.prototype,o),a&&D(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");P(e.prototype,t&&t.prototype),t&&P(e,t)}(t,e),t}(o.Component);n(111);function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e){return(L=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Y=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(o=L(t).call(this))||"object"!==R(o)&&"function"!==typeof o?G(n):o).state={isRunning:!1,isPlaying:"STOPPED",currentIndex:0},e.wakeLock=new j.a,e.countDown=r.a.createRef(),e.start=e.start.bind(G(G(e))),e.pause=e.pause.bind(G(G(e))),e.reset=e.reset.bind(G(G(e))),e}var n,o,a;return n=t,(o=[{key:"start",value:function(){this.setState({isRunning:!0}),this.countDown.current.start(),this.wakeLock.enable()}},{key:"pause",value:function(){this.setState({isRunning:!1}),this.countDown.current.pause(),this.wakeLock.disable()}},{key:"reset",value:function(){this.pause(),this.countDown.current.reset()}},{key:"playSound",value:function(){var e=this;this.setState({isPlaying:"PLAYING"}),setTimeout(function(){e.setState({isPlaying:"STOPPED"})},3e3)}},{key:"onFinish",value:function(){var e=this.state,t=this.props;e.currentIndex==t.getWorkout(t.match.params.id).exercises.length-1?(this.setState({isRunning:!1}),this.setState({currentIndex:0}),this.reset()):(this.setState({currentIndex:this.state.currentIndex+1}),this.reset(),this.start()),this.playSound()}},{key:"render",value:function(){var e=this.state,t=this.props,n=t.getWorkout(t.match.params.id);return r.a.createElement("div",{className:"wrapper"},r.a.createElement(W.a,{url:"https://raw.githubusercontent.com/Karol-Waliszewski/Workout-Timer/master/src/audio/beep.mp3",playStatus:e.isPlaying}),r.a.createElement("div",{className:"container"},r.a.createElement(m.a,{to:"/",className:"backArrow",onClick:this.pause},r.a.createElement(l.a,{icon:"arrow-left",size:"lg"})),r.a.createElement("h1",{className:"heading",id:"title"},n.exercises[e.currentIndex].name),r.a.createElement(F,{ref:this.countDown,onFinish:this.onFinish.bind(this),time:n.exercises[e.currentIndex].time}),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{className:"controls__button",onClick:this.reset},r.a.createElement(l.a,{icon:"stop",fixedWidth:!0,size:"xs"})),this.state.isRunning?r.a.createElement("button",{className:"controls__button",onClick:this.pause},r.a.createElement(l.a,{icon:"pause",fixedWidth:!0,size:"xs"})):r.a.createElement("button",{className:"controls__button",onClick:this.start},r.a.createElement(l.a,{icon:"play",fixedWidth:!0,size:"xs"}))),r.a.createElement("div",{className:"stats"},r.a.createElement("p",{className:"stats__text"},"Exercise:"," ",n.exercises.filter(function(t,n){return"rest"!=t.name.toLowerCase()&&n<=e.currentIndex}).length,"/",n.exercises.filter(function(e){return"rest"!=e.name.toLowerCase()}).length)),r.a.createElement("div",{className:"next"},r.a.createElement("div",null,r.a.createElement("p",{className:"next__text--small"},"Next"),r.a.createElement("p",{className:"next__text"},"undefined"==typeof n.exercises[e.currentIndex+1]?"Finish":n.exercises[e.currentIndex+1].name)))))}}])&&A(n.prototype,o),a&&A(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");z(e.prototype,t&&t.prototype),t&&z(e,t)}(t,e),t}(o.Component),H=n(37);n(109);function J(e){return(J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e){return(U=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var q=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(o=U(t).call(this))||"object"!==J(o)&&"function"!==typeof o?$(n):o).state={minutes:0,seconds:30},e.updateMinutes=e.updateMinutes.bind($($(e))),e.updateSeconds=e.updateSeconds.bind($($(e))),e}var n,o,a;return n=t,(o=[{key:"componentDidMount",value:function(){this.setState({minutes:parseInt(this.props.time/60),seconds:this.props.time%60})}},{key:"changeName",value:function(e){this.props.updateName(this.props.index,e.target.value)}},{key:"updateMinutes",value:function(e){var t=e.target.value;t=t.slice(0,2),this.setState({minutes:t}),this.props.updateTime(this.props.index,60*Number(t)+Number(this.state.seconds))}},{key:"updateSeconds",value:function(e){var t=e.target.value;t=t.slice(0,2),this.setState({seconds:t}),this.props.updateTime(this.props.index,60*Number(this.state.minutes)+Number(t))}},{key:"render",value:function(){var e=this,t=this.props,n=this.state;return r.a.createElement(H.b,{draggableId:t.index,index:t.index},function(o){return r.a.createElement("li",Object.assign({className:"exercise",ref:o.innerRef},o.draggableProps,o.dragHandleProps),r.a.createElement("p",{className:"exercise__index"},t.index+1),r.a.createElement("div",{className:"exercise__content"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"exercise__name",value:t.name,onChange:e.changeName.bind(e)}),r.a.createElement("div",{className:"exercise__timer"},r.a.createElement(l.a,{icon:["far","clock"],fixedWidth:!0}),r.a.createElement("input",{type:"number",min:"0",className:"exercise__time--left",value:n.minutes,onChange:e.updateMinutes}),r.a.createElement("span",{className:"exercise__divide"},":"),r.a.createElement("input",{type:"number",min:"0",max:"59",className:"exercise__time--right",value:n.seconds,onChange:e.updateSeconds}))),r.a.createElement("div",{className:"exercise__buttons"},r.a.createElement("svg",{width:"0",height:"0"},r.a.createElement("radialGradient",{id:"rg",r:"150%",cx:"30%",cy:"107%"},r.a.createElement("stop",{stopColor:"#56A5E1",offset:"0"}),r.a.createElement("stop",{stopColor:"#1FD989",offset:"0.9"}))),r.a.createElement("button",{className:"exercise__button",onClick:function(){return t.copyExercise(t.index)}},r.a.createElement(l.a,{icon:"copy",fixedWidth:!0})),r.a.createElement("button",{className:"exercise__button",onClick:function(){return t.deleteExercise(t.index)}},r.a.createElement(l.a,{icon:"trash-alt",fixedWidth:!0})))))})}}])&&Q(n.prototype,o),a&&Q(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");K(e.prototype,t&&t.prototype),t&&K(e,t)}(t,e),t}(o.Component);n(72);function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e){return(ee=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe=n(70),re=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(o=ee(t).call(this))||"object"!==V(o)&&"function"!==typeof o?te(n):o).state={id:oe(10),name:"Workout's title",exercises:[],isModalOpen:!1},e.updateTime=e.updateTime.bind(te(te(e))),e.updateName=e.updateName.bind(te(te(e))),e.copyExercise=e.copyExercise.bind(te(te(e))),e.deleteExercise=e.deleteExercise.bind(te(te(e))),e.onDragEnd=e.onDragEnd.bind(te(te(e))),e.closeModal=e.closeModal.bind(te(te(e))),e.saveWorkout=e.saveWorkout.bind(te(te(e))),e}var n,o,a;return n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props;if("match"in e&&"id"in e.match.params){var t=e.getWorkout(e.match.params.id),n=t.id,o=t.name,r=t.exercises;this.setState({id:n,name:o,exercises:r})}}},{key:"saveWorkout",value:function(e){var t=this.state,n=t.id,o=t.exercises,r=t.name;if(0==o.length)return this.openModal(),void e.preventDefault();var a={id:n,exercises:o,name:r};this.props.saveWorkout(a)}},{key:"updateName",value:function(e,t){var n=this.state.exercises;n[e].name=t,this.setState({exercises:n})}},{key:"updateTime",value:function(e,t){var n=this.state.exercises;n[e].time=t,this.setState({exercises:n})}},{key:"copyExercise",value:function(e){var t=this.state.exercises;t.push(Object.assign({},t[e])),this.setState({exercises:t})}},{key:"deleteExercise",value:function(e){var t=this.state.exercises;t.splice(e,1),this.setState({exercises:t})}},{key:"addExercise",value:function(){var e=this.state.exercises;e.push({name:"Exercise's name",time:30}),this.setState({exercises:e})}},{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,n){var o=Array.from(e),r=ne(o.splice(t,1),1)[0];return o.splice(n,0,r),o}(this.state.exercises,e.source.index,e.destination.index);this.setState({exercises:t})}}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,o=t.exercises.map(function(t,n){return r.a.createElement(q,Object.assign({key:n,index:n},t,{updateName:e.updateName,updateTime:e.updateTime,copyExercise:e.copyExercise,deleteExercise:e.deleteExercise}))});return r.a.createElement("div",{className:"creator"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__textarea"},r.a.createElement("textarea",{value:t.name,onChange:function(t){e.setState({name:t.target.value})}})),r.a.createElement("p",{className:"header__stats"},"Created Workouts: ",n.createdWorkouts),r.a.createElement("div",{className:"header__icon"},r.a.createElement(l.a,{icon:["far","edit"],size:"9x"}))),r.a.createElement("main",{className:"creator__container"},r.a.createElement("div",{className:"creator__workout"},r.a.createElement(H.a,{onDragEnd:this.onDragEnd},r.a.createElement(H.c,{droppableId:"exercises"},function(e){return r.a.createElement("ol",Object.assign({ref:e.innerRef},e.droppableProps),o,e.placeholder)})),r.a.createElement("div",{className:"workout__add"},r.a.createElement("p",null,"Add Exercise"),r.a.createElement("button",{className:"workout__button",onClick:this.addExercise.bind(this)},r.a.createElement(l.a,{icon:"plus",size:"xs",fixedWidth:!0}))))),r.a.createElement("footer",{className:"actionButtons"},r.a.createElement(m.a,{to:"/",className:"actionButtons__button"},r.a.createElement(l.a,{icon:"times",size:"xs",fixedWidth:!0})),r.a.createElement(m.a,{to:"/",className:"actionButtons__button",onClick:this.saveWorkout},r.a.createElement(l.a,{icon:["far","save"],size:"xs",fixedWidth:!0}))),r.a.createElement(p.a,{className:"modal--creator",isOpen:t.isModalOpen,closeTimeoutMS:300},r.a.createElement("h2",{className:"modal__heading"},"You have to create at least one exercise."),r.a.createElement("button",{onClick:this.closeModal,className:"modal__button--creator"},"I understand")))}}])&&Z(n.prototype,o),a&&Z(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");X(e.prototype,t&&t.prototype),t&&X(e,t)}(t,e),t}(o.Component);function ae(e){return(ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e){return(ce=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var le=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,me=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=ce(t).call(this),(e=!o||"object"!==ae(o)&&"function"!==typeof o?ue(n):o).state={workouts:[],finishedWorkouts:0};var r=le.open("WorkoutTimerDatabase");return r.onupgradeneeded=function(){r.result.createObjectStore("WorkoutStore",{keyPath:"id"})},r.onsuccess=function(){var t=r.result,n=t.transaction("WorkoutStore","readwrite"),o=n.objectStore("WorkoutStore").getAll();o.onsuccess=function(){e.setState({workouts:o.result.reverse()})},n.oncomplete=function(){t.close()}},e.saveWorkout=e.saveWorkout.bind(ue(ue(e))),e.deleteWorkout=e.deleteWorkout.bind(ue(ue(e))),e}var n,o,a;return n=t,(o=[{key:"getWorkout",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,a=this.state.workouts[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;if(i.id==e)return i}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"saveWorkout",value:function(e){var t=!1,n=this.state.workouts.map(function(n){return n.id==e.id?(t=!0,e):n});t||n.push(e);var o=le.open("WorkoutTimerDatabase");o.onsuccess=function(){var t=o.result,n=t.transaction("WorkoutStore","readwrite");n.objectStore("WorkoutStore").put(e),n.oncomplete=function(){t.close()}},this.setState({workouts:n})}},{key:"deleteWorkout",value:function(e){this.setState({workouts:this.state.workouts.filter(function(t){return t.id!=e})});var t=le.open("WorkoutTimerDatabase");t.onsuccess=function(){var n=t.result,o=n.transaction("WorkoutStore","readwrite");o.objectStore("WorkoutStore").delete(e),o.oncomplete=function(){n.close()}}}},{key:"render",value:function(){var e=this,t=this.state;return r.a.createElement(s.a,{basename:"/Workout-Timer"},r.a.createElement(u.a,null,r.a.createElement(c.a,{path:"/",exact:!0,render:function(){return r.a.createElement(S,{workouts:t.workouts,deleteWorkout:e.deleteWorkout})}}),r.a.createElement(c.a,{path:"/timer/:id",render:function(t){return r.a.createElement(Y,Object.assign({},t,{getWorkout:e.getWorkout.bind(e)}))}}),r.a.createElement(c.a,{path:"/creator/:id",render:function(n){return r.a.createElement(re,Object.assign({},n,{createdWorkouts:t.workouts.length,saveWorkout:e.saveWorkout,getWorkout:e.getWorkout.bind(e)}))}}),r.a.createElement(c.a,{path:"/creator",render:function(n){return r.a.createElement(re,Object.assign({},n,{createdWorkouts:t.workouts.length,saveWorkout:e.saveWorkout}))}})))}}])&&se(n.prototype,o),a&&se(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");ie(e.prototype,t&&t.prototype),t&&ie(e,t)}(t,e),t}(o.Component),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var de=n(13),he=n(5),ye=n(21);de.b.add(he.i,he.k,he.d,he.c,he.f,he.g,he.h,he.e,ye.b,ye.c,ye.a,he.a,he.b,he.j),i.a.render(r.a.createElement(me,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Workout-Timer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/Workout-Timer","/service-worker.js");fe?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):pe(e)})}}()},72:function(e,t,n){}},[[144,0,1]]]);
//# sourceMappingURL=main.4179d4a5.chunk.js.map